<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="twitter:card" content="summary_large_image" /><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Spotify in Egypt | Omar Hatem</title>
<meta name="generator" content="Jekyll v4.1.1" />
<meta property="og:title" content="Spotify in Egypt" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="data analysis for music in Egypt" />
<meta property="og:description" content="data analysis for music in Egypt" />
<link rel="canonical" href="https://o-hatem.github.io/My-Journey/web%20scraping/api/data%20analysis/2022/06/25/Spotify-Data-Analysis.html" />
<meta property="og:url" content="https://o-hatem.github.io/My-Journey/web%20scraping/api/data%20analysis/2022/06/25/Spotify-Data-Analysis.html" />
<meta property="og:site_name" content="Omar Hatem" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2022-06-25T00:00:00-05:00" />
<script type="application/ld+json">
{"description":"data analysis for music in Egypt","url":"https://o-hatem.github.io/My-Journey/web%20scraping/api/data%20analysis/2022/06/25/Spotify-Data-Analysis.html","@type":"BlogPosting","headline":"Spotify in Egypt","dateModified":"2022-06-25T00:00:00-05:00","datePublished":"2022-06-25T00:00:00-05:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://o-hatem.github.io/My-Journey/web%20scraping/api/data%20analysis/2022/06/25/Spotify-Data-Analysis.html"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/My-Journey/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="https://o-hatem.github.io/My-Journey/feed.xml" title="Omar Hatem" /><link rel="shortcut icon" type="image/x-icon" href="/My-Journey/images/favicon.ico"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Primer/15.2.0/primer.css" integrity="sha512-xTz2ys4coGAOz8vuV1NcQBkgVmKhsSEtjbqyMJbBHRplFuvKIUo6xhLHpAyPt9mfR6twHJgn9OgVLuqOvjeBhg==" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css" integrity="sha512-1PKOgIY59xJ8Co8+NE6FZ+LOAZKjy+KY8iq0G4B3CyeY6wYHN3yt9PW0XpSriVlkMXe40PTKnXrLnZ9+fkDaog==" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.12.0/katex.min.css" integrity="sha512-h7nl+xz8wgDlNM4NqKEM4F1NkIRS17M9+uJwIGwuo8vGqIl4BhuCKdxjWEINm+xyrUjNCnK5dCrhM0sj+wTIXw==" crossorigin="anonymous" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.12.0/katex.min.js" integrity="sha512-/CMIhXiDA3m2c9kzRyd97MTb3MC6OVnx4TElQ7fkkoRghwDf6gi41gaT1PwF270W6+J60uTmwgeRpNpJdRV6sg==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.12.0/contrib/auto-render.min.js" integrity="sha512-Do7uJAaHZm5OLrIv/yN4w0iG1dbu01kzdMNnFfu/mAqgUk6Nniv2JYHcwH+cNwjqgLcqcuBBk+JRvprLVI8azg==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha512-0doc9hKxR3PYwso42RD1p5ySZpzzuDiOwMrdCEh2WdJZCjcmFKc/wEnL+z8fBQrnHoiNWbo+3fiGkOYXBdQp4A==" crossorigin="anonymous"></script>
    <script>
    document.addEventListener("DOMContentLoaded", function() {
        renderMathInElement( document.body, {
        delimiters: [
            {left: "$$", right: "$$", display: true},
            {left: "[%", right: "%]", display: true},
            {left: "$", right: "$", display: false}
        ]}
        );
    });
    </script>


<script>
function wrap_img(fn) {
    if (document.attachEvent ? document.readyState === "complete" : document.readyState !== "loading") {
        var elements = document.querySelectorAll(".post img");
        Array.prototype.forEach.call(elements, function(el, i) {
            if (el.getAttribute("title") && (el.className != "emoji")) {
                const caption = document.createElement('figcaption');
                var node = document.createTextNode(el.getAttribute("title"));
                caption.appendChild(node);
                const wrapper = document.createElement('figure');
                wrapper.className = 'image';
                el.parentNode.insertBefore(wrapper, el);
                el.parentNode.removeChild(el);
                wrapper.appendChild(el);
                wrapper.appendChild(caption);
            }
        });
    } else { document.addEventListener('DOMContentLoaded', fn); }
}
window.onload = wrap_img;
</script>

<script>
    document.addEventListener("DOMContentLoaded", function(){
    // add link icon to anchor tags
    var elem = document.querySelectorAll(".anchor-link")
    elem.forEach(e => (e.innerHTML = '<i class="fas fa-link fa-xs"></i>'));
    });
</script>
</head>
<body><header class="site-header">

  <div class="wrapper"><a class="site-title" rel="author" href="/My-Journey/">Omar Hatem</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/My-Journey/about/">About Me</a><a class="page-link" href="/My-Journey/search/">Search</a><a class="page-link" href="/My-Journey/categories/">Tags</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Spotify in Egypt</h1><p class="page-description">data analysis for music in Egypt</p><p class="post-meta post-meta-title"><time class="dt-published" datetime="2022-06-25T00:00:00-05:00" itemprop="datePublished">
        Jun 25, 2022
      </time>
       â€¢ <span class="read-time" title="Estimated read time">
    
    
      2 min read
    
</span></p>

    
      <p class="category-tags"><i class="fas fa-tags category-tags-icon"></i></i> 
      
        <a class="category-tags-link" href="/My-Journey/categories/#web scraping">web scraping</a>
        &nbsp;
      
        <a class="category-tags-link" href="/My-Journey/categories/#API">API</a>
        &nbsp;
      
        <a class="category-tags-link" href="/My-Journey/categories/#data analysis">data analysis</a>
        
      
      </p>
    

    
      
        <div class="pb-5 d-flex flex-wrap flex-justify-end">
          <div class="px-2">

    <a href="https://github.com/O-Hatem/My-Journey/tree/master/_notebooks/2022-06-25-Spotify-Data-Analysis.ipynb" role="button" target="_blank">
<img class="notebook-badge-image" src="/My-Journey/assets/badges/github.svg" alt="View On GitHub">
    </a>
</div>

          
          <div class="px-2">
    <a href="https://colab.research.google.com/github/O-Hatem/My-Journey/blob/master/_notebooks/2022-06-25-Spotify-Data-Analysis.ipynb" target="_blank">
        <img class="notebook-badge-image" src="/My-Journey/assets/badges/colab.svg" alt="Open In Colab"/>
    </a>
</div>
        </div>
      </header>

  <div class="post-content e-content" itemprop="articleBody">
    <ul class="section-nav">
<li class="toc-entry toc-h2"><a href="#Retrieving-Data-from-Spotify-API">Retrieving Data from Spotify API </a></li>
<li class="toc-entry toc-h2"><a href="#Search-for-an-item">Search for an item </a></li>
<li class="toc-entry toc-h2"><a href="#Scraping-Data-out-of-Last.fm">Scraping Data out of Last.fm </a>
<ul>
<li class="toc-entry toc-h3"><a href="#Translate-Arabic-names-into-English">Translate Arabic names into English </a></li>
<li class="toc-entry toc-h3"><a href="#Drop-Duplicates">Drop Duplicates </a></li>
<li class="toc-entry toc-h3"><a href="#Fix-the-inconsistency-in-the-data">Fix the inconsistency in the data </a></li>
</ul>
</li>
</ul><!--
#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: _notebooks/2022-06-25-Spotify-Data-Analysis.ipynb
-->

<div class="container" id="notebook-container">
        
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>This is an attempt to study and analyze the music industry in Egypt for last 70 years. 
First I setup Spotify API to help me search and lookup the data for each song and for each artist. But, there's no telling (using the API) what are the most listened to artists in Egypt (whether they're Egyptian, Arabic, or not). So i looked up for a list includes such data and i found a <a href="https://www.last.fm/tag/egyptian/artists?page=1">website</a> that have similar stats to what i want(not perfect though), and this was the best i could get browsing the web.</p>
<p>Questions to be answered:</p>
<ol>
<li>what are the most listened to genres?</li>
</ol>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>

<span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">base64</span>
<span class="kn">import</span> <span class="nn">datetime</span>
<span class="kn">from</span> <span class="nn">urllib.parse</span> <span class="kn">import</span> <span class="n">urlencode</span>

<span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>
<span class="kn">from</span> <span class="nn">time</span> <span class="kn">import</span> <span class="n">sleep</span>

<span class="o">%</span><span class="k">matplotlib</span> inline
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Retrieving-Data-from-Spotify-API">
<a class="anchor" href="#Retrieving-Data-from-Spotify-API" aria-hidden="true"><span class="octicon octicon-link"></span></a>Retrieving Data from Spotify API<a class="anchor-link" href="#Retrieving-Data-from-Spotify-API"> </a>
</h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>client_id and client_secret are retrieved from the project created on <a href="https://developer.spotify.com/dashboard/applications">spotify developers website's dashboard</a></p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">endpoint</span> <span class="o">=</span> <span class="s2">"https://api.spotify.com/v1"</span> 

<span class="n">client_id</span> <span class="o">=</span> <span class="s2">"CLIENT_ID"</span>
<span class="n">client_secret</span> <span class="o">=</span> <span class="s2">"CLIENT_SECRET"</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">token_url</span> <span class="o">=</span> <span class="s2">"https://accounts.spotify.com/api/token"</span>
<span class="n">client_creds</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">client_id</span><span class="si">}</span><span class="s2">:</span><span class="si">{</span><span class="n">client_secret</span><span class="si">}</span><span class="s2">"</span>
<span class="n">client_creds_b64</span> <span class="o">=</span> <span class="n">base64</span><span class="o">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">client_creds</span><span class="o">.</span><span class="n">encode</span><span class="p">())</span>

<span class="n">token_data</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">"grant_type"</span><span class="p">:</span> <span class="s2">"client_credentials"</span>
<span class="p">}</span>

<span class="n">token_headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">"Authorization"</span><span class="p">:</span> <span class="sa">f</span><span class="s2">"Basic </span><span class="si">{</span><span class="n">client_creds_b64</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span><span class="si">}</span><span class="s2">"</span><span class="p">,</span> <span class="c1"># &lt;base64 encoded client_id:client_secret&gt;</span>
<span class="p">}</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>extracting information from the response from the response</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">token_url</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">token_data</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">token_headers</span><span class="p">)</span>
<span class="n">valid_request</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">status_code</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">300</span><span class="p">)</span>

<span class="k">if</span> <span class="n">valid_request</span><span class="p">:</span>
    <span class="n">token_response_data</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
    <span class="n">access_token</span> <span class="o">=</span> <span class="n">token_response_data</span><span class="p">[</span><span class="s1">'access_token'</span><span class="p">]</span>

    <span class="n">now</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
    <span class="n">expire_in</span> <span class="o">=</span> <span class="n">token_response_data</span><span class="p">[</span><span class="s1">'expires_in'</span><span class="p">]</span> <span class="c1"># seconds</span>
    <span class="n">expires</span> <span class="o">=</span> <span class="n">now</span> <span class="o">+</span> <span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">seconds</span><span class="o">=</span><span class="n">expire_in</span><span class="p">)</span>
    <span class="n">did_expire</span> <span class="o">=</span> <span class="n">expires</span> <span class="o">&lt;</span> <span class="n">now</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">expires</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>2022-06-18 19:54:47.124216
</pre>
</div>
</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Search-for-an-item">
<a class="anchor" href="#Search-for-an-item" aria-hidden="true"><span class="octicon octicon-link"></span></a>Search for an item<a class="anchor-link" href="#Search-for-an-item"> </a>
</h2>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">"Authorization"</span><span class="p">:</span> <span class="sa">f</span><span class="s2">"Bearer </span><span class="si">{</span><span class="n">access_token</span><span class="si">}</span><span class="s2">"</span>
<span class="p">}</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">search_spotify</span><span class="p">(</span><span class="n">access_token</span><span class="p">,</span> <span class="n">query</span><span class="p">,</span> <span class="n">search_type</span><span class="p">):</span>
    <span class="n">search_endpoint</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">endpoint</span><span class="si">}</span><span class="s2">/search"</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">urlencode</span><span class="p">({</span>
        <span class="s2">"q"</span><span class="p">:</span> <span class="n">query</span><span class="p">,</span>
        <span class="s2">"type"</span><span class="p">:</span> <span class="n">search_type</span><span class="p">,</span>
    <span class="p">})</span>
    
    <span class="n">lookup_url</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">"</span><span class="si">{</span><span class="n">search_endpoint</span><span class="si">}</span><span class="s2">?</span><span class="si">{</span><span class="n">data</span><span class="si">}</span><span class="s2">"</span>
    
    <span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">lookup_url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">r</span><span class="o">.</span><span class="n">status_code</span> <span class="ow">not</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">300</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">{}</span>
    <span class="k">return</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Scraping-Data-out-of-Last.fm">
<a class="anchor" href="#Scraping-Data-out-of-Last.fm" aria-hidden="true"><span class="octicon octicon-link"></span></a>Scraping Data out of Last.fm<a class="anchor-link" href="#Scraping-Data-out-of-Last.fm"> </a>
</h2>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">artists_names_array</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">for</span> <span class="n">page_number</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">):</span>
    <span class="c1"># adding a small sleep before each request to prevent the ConnectionResetError104</span>
    <span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">html</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="sa">f</span><span class="s2">"https://www.last.fm/tag/egyptian/artists?page=</span><span class="si">{</span><span class="n">page_number</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
    <span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">html</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>

    <span class="n">main_div</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s1">'div'</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">"col-main"</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">artists</span> <span class="o">=</span> <span class="n">main_div</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s1">'li'</span><span class="p">,</span> <span class="n">attrs</span><span class="o">=</span><span class="p">{</span><span class="s2">"itemtype"</span><span class="p">:</span><span class="s2">"http://schema.org/MusicGroup"</span><span class="p">})</span>

    <span class="k">for</span> <span class="n">artist</span> <span class="ow">in</span> <span class="n">artists</span><span class="p">:</span>
        <span class="n">artists_names_array</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">artist</span><span class="o">.</span><span class="n">h3</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">artists_names</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">artists_names_array</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">artists_names_array</span><span class="p">)))</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">artists_names</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>0                 Ø¹Ù…Ø± Ø¯ÙŠØ§Ø¨
1             Karl Sanders
2             Oum Kalthoum
3                  Sherine
4                    Hakim
              ...         
79                   Ø´ÙŠØ±ÙŠÙ†
80                Shahinaz
81              Hathorious
82         Hesham El Araby
83    Mohamed Ali Ensemble
Length: 84, dtype: object</pre>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Translate-Arabic-names-into-English">
<a class="anchor" href="#Translate-Arabic-names-into-English" aria-hidden="true"><span class="octicon octicon-link"></span></a>Translate Arabic names into English<a class="anchor-link" href="#Translate-Arabic-names-into-English"> </a>
</h3>
<p>Using RapidAPI</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">translate</span><span class="p">(</span><span class="n">query</span><span class="p">,</span> <span class="n">tl</span><span class="o">=</span><span class="s2">"en"</span><span class="p">,</span> <span class="n">sl</span><span class="o">=</span><span class="s2">"ar"</span><span class="p">):</span>
    <span class="n">url</span> <span class="o">=</span> <span class="s2">"https://google-translate1.p.rapidapi.com/language/translate/v2"</span>

    <span class="n">payload</span> <span class="o">=</span> <span class="n">urlencode</span><span class="p">({</span>
        <span class="s2">"q"</span><span class="p">:</span> <span class="n">query</span><span class="p">,</span>
        <span class="s2">"target"</span><span class="p">:</span> <span class="n">tl</span><span class="p">,</span>
        <span class="s2">"source"</span><span class="p">:</span> <span class="n">sl</span>
    <span class="p">})</span>
    
    <span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"application/x-www-form-urlencoded"</span><span class="p">,</span>
        <span class="s2">"Accept-Encoding"</span><span class="p">:</span> <span class="s2">"application/gzip"</span><span class="p">,</span>
        <span class="s2">"X-RapidAPI-Key"</span><span class="p">:</span> <span class="s2">"API-KEY"</span><span class="p">,</span>
        <span class="s2">"X-RapidAPI-Host"</span><span class="p">:</span> <span class="s2">"google-translate1.p.rapidapi.com"</span>
    <span class="p">}</span>

    <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">payload</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">status_code</span> <span class="ow">not</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">300</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">status_code</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">{}</span>
    
    <span class="k">return</span> <span class="n">response</span><span class="o">.</span><span class="n">text</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">artists_names</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>0                 Ø¹Ù…Ø± Ø¯ÙŠØ§Ø¨
1             Karl Sanders
2             Oum Kalthoum
3                  Sherine
4                    Hakim
              ...         
79                   Ø´ÙŠØ±ÙŠÙ†
80                Shahinaz
81              Hathorious
82         Hesham El Araby
83    Mohamed Ali Ensemble
Length: 84, dtype: object</pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">translate</span><span class="p">(</span><span class="n">artists_names</span><span class="p">[</span><span class="mi">79</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>'{"data":{"translations":[{"translatedText":"Shereen"}]}}'</pre>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Drop-Duplicates">
<a class="anchor" href="#Drop-Duplicates" aria-hidden="true"><span class="octicon octicon-link"></span></a>Drop Duplicates<a class="anchor-link" href="#Drop-Duplicates"> </a>
</h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Fix-the-inconsistency-in-the-data">
<a class="anchor" href="#Fix-the-inconsistency-in-the-data" aria-hidden="true"><span class="octicon octicon-link"></span></a>Fix the inconsistency in the data<a class="anchor-link" href="#Fix-the-inconsistency-in-the-data"> </a>
</h3>
<p>e.g. Umm Kulthum, Oum Kalthoum
<a href="https://www.kaggle.com/code/alexisbcook/inconsistent-data-entry">Kaggle's lessson on data inconsistency</a></p>

</div>
</div>
</div>
</div>



  </div><!-- from https://github.com/utterance/utterances -->
<script src="https://utteranc.es/client.js"
        repo="O-Hatem/My-Journey"
        issue-term="title"
        label="blogpost-comment"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script><a class="u-url" href="/My-Journey/web%20scraping/api/data%20analysis/2022/06/25/Spotify-Data-Analysis.html" hidden></a>
</article>
      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/My-Journey/"></data>

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col">
        <p class="feed-subscribe">
          <a href="/My-Journey/feed.xml">
            <svg class="svg-icon orange">
              <use xlink:href="/My-Journey/assets/minima-social-icons.svg#rss"></use>
            </svg><span>Subscribe</span>
          </a>
        </p>
      </div>
      <div class="footer-col">
        <p>Blogging my progress not perfection</p>
      </div>
    </div>

    <div class="social-links"><ul class="social-media-list"><li><a rel="me" href="https://github.com/O-Hatem" target="_blank" title="O-Hatem"><svg class="svg-icon grey"><use xlink:href="/My-Journey/assets/minima-social-icons.svg#github"></use></svg></a></li><li><a rel="me" href="https://www.linkedin.com/in/o-hatem" target="_blank" title="o-hatem"><svg class="svg-icon grey"><use xlink:href="/My-Journey/assets/minima-social-icons.svg#linkedin"></use></svg></a></li></ul>
</div>

  </div>

</footer>
</body>

</html>
